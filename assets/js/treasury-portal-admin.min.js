!function(){function e(){const e=document.getElementById("treasury-portal-admin-search-input"),n=document.querySelector(".treasury-portal-admin-table"),o={};n&&Array.from(n.querySelectorAll("th")).forEach(function(e,t){const n=e.dataset.sortKey;n&&(o[n]=t)});const r={};let c="";const i=function(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)}}(function(){if(!n)return;n.querySelectorAll("tbody tr:not(.tp-filter-row)").forEach(function(e){let t=!0;c&&!e.textContent.toLowerCase().includes(c)&&(t=!1);for(const n in r){const c=e.children[o[n]],i=c?c.textContent.toLowerCase().trim():"",s=r[n];if(s.exact){if(i!==s.value){t=!1;break}}else{for(const e of s.tokens)if(!i.includes(e)){t=!1;break}if(!t)break}}e.style.display=t?"":"none"})},200);e&&e.addEventListener("input",function(){c=e.value.toLowerCase(),i()}),document.querySelectorAll(".tp-filter-control").forEach(function(e){const t="SELECT"===e.tagName?"change":"input";e.addEventListener(t,function(){const t=e.dataset.filterKey,n=e.value.trim().toLowerCase();n?r[t]={value:n,exact:"exact"===e.dataset.match,tokens:n.split(/[\s,]+/).filter(Boolean)}:delete r[t],i()})}),i();const s=document.getElementById("ttp_airbase_token"),a=document.getElementById("ttp_airbase_token_toggle");s&&a&&a.addEventListener("click",function(){const e="password"===s.type;s.type=e?"text":"password",a.textContent=e?"Hide":"Reveal"}),function(){if(window.innerWidth<=768)return;const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelectorAll("th"),n=e.querySelectorAll("tbody tr");t.forEach(function(e,t){const o=e.querySelector(".tp-resizer");o&&o.addEventListener("mousedown",function(o){o.preventDefault();const r=o.pageX,c=e.offsetWidth;function i(o){const i=c+(o.pageX-r);e.style.width=i+"px",n.forEach(function(e){const n=e.children[t];n&&(n.style.width=i+"px")})}function s(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s)}document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)})})}(),function(){const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelector("tbody"),n=e.querySelectorAll("th[data-sort-key]"),o=t.querySelector(".tp-filter-row"),r=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),c=new Set(["founded_year"]);let i={key:null,direction:null};n.forEach(function(e,s){e.addEventListener("click",function(a){if(a.target.closest(".tp-resizer"))return;const l=e.dataset.sortKey;let d="asc";if(i.key===l&&(d="asc"===i.direction?"desc":"desc"===i.direction?null:"asc"),i={key:d?l:null,direction:d},n.forEach(function(e){e.classList.remove("sorted-asc","sorted-desc")}),!d)return r.forEach(function(e){t.appendChild(e)}),void(o&&t.insertBefore(o,t.firstChild));e.classList.add("asc"===d?"sorted-asc":"sorted-desc");const u=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),f=c.has(l);u.sort(function(e,t){const n=e.children[s].textContent.trim(),o=t.children[s].textContent.trim();if(f){const e=parseFloat(n),t=parseFloat(o);return(isNaN(e)?0:e)-(isNaN(t)?0:t)}return n.localeCompare(o)}),"desc"===d&&u.reverse(),u.forEach(function(e){t.appendChild(e)}),o&&t.insertBefore(o,t.firstChild)})})}(),t(),window.addEventListener("resize",t)}function t(){if(window.innerWidth>768)return;const e=document.querySelector(".treasury-portal-admin-table");e&&e.querySelectorAll("th, td").forEach(function(e){e.style.width=""})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();