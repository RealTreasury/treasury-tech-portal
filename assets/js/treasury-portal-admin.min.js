!function(){let e,t,n,o,r=!1;const i=new Set(["core_capabilities","capabilities"]);function c(e){return e.split(",").map(e=>e.trim()).filter(Boolean).sort((e,t)=>e.localeCompare(t)).join(", ")}function l(){const r=document.getElementById("treasury-portal-admin-search-input"),l=document.querySelector(".treasury-portal-admin-table"),a={};l&&Array.from(l.querySelectorAll("th")).forEach(function(e,t){const n=e.dataset.sortKey;n&&(a[n]=t)}),o=l?l.querySelector("tbody"):null,e=o?o.querySelector(".tp-filter-row"):null,t=document.querySelector(".tp-filter-panel"),n=t?t.querySelector(".tp-filter-panel-content"):null;const u=document.querySelector(".tp-filter-toggle"),d={};let f="";const p=function(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)}}(function(){if(!l)return;l.querySelectorAll("tbody tr:not(.tp-filter-row)").forEach(function(e){let t=!0;const n=e.textContent.toLowerCase();if(f){f.split(/[\s,]+/).filter(Boolean).every(e=>n.includes(e))||(t=!1)}if(t)for(const n in d){const o=e.children[a[n]];let r=o?(o.dataset.filterValue||o.textContent).toLowerCase().trim():"";i.has(n)&&(r=c(r));const l=d[n];if(l.exact){if(r!==l.value){t=!1;break}}else{if(!l.value.split(/[\s,]+/).filter(Boolean).every(e=>r.includes(e))){t=!1;break}}}e.style.display=t?"":"none"})},200);r&&r.addEventListener("input",function(){f=r.value.toLowerCase(),p()}),document.querySelectorAll(".tp-filter-control").forEach(function(e){const t="SELECT"===e.tagName?"change":"input";e.addEventListener(t,function(){const t=e.dataset.filterKey;let n=e.value.trim().toLowerCase();n?(i.has(t)&&(n=c(n)),d[t]={value:n,exact:"exact"===e.dataset.match}):delete d[t],p()})}),u&&t&&u.addEventListener("click",function(){t.classList.toggle("open")}),p();const y=document.getElementById("ttp_airbase_token"),m=document.getElementById("ttp_airbase_token_toggle");y&&m&&m.addEventListener("click",function(){const e="password"===y.type;y.type=e?"text":"password",m.textContent=e?"Hide":"Reveal"}),function(){if(window.innerWidth<=768)return;const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelectorAll("th"),n=e.querySelectorAll("tbody tr");t.forEach(function(e,t){const o=e.querySelector(".tp-resizer");o&&o.addEventListener("mousedown",function(o){o.preventDefault();const r=o.pageX,i=e.offsetWidth;function c(o){const c=i+(o.pageX-r);e.style.width=c+"px",n.forEach(function(e){const n=e.children[t];n&&(n.style.width=c+"px")})}function l(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)}document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)})})}(),function(){const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelector("tbody"),n=e.querySelectorAll("th[data-sort-key]"),o=t.querySelector(".tp-filter-row"),r=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),l=new Set(["founded_year"]);let s={key:null,direction:null};n.forEach(function(e,a){e.addEventListener("click",function(u){if(u.target.closest(".tp-resizer"))return;const d=e.dataset.sortKey;let f="asc";if(s.key===d&&(f="asc"===s.direction?"desc":"desc"===s.direction?null:"asc"),s={key:f?d:null,direction:f},n.forEach(function(e){e.classList.remove("sorted-asc","sorted-desc")}),!f)return r.forEach(function(e){t.appendChild(e)}),void(o&&t.insertBefore(o,t.firstChild));e.classList.add("asc"===f?"sorted-asc":"sorted-desc");const p=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),y=l.has(d),m=i.has(d);p.sort(function(e,t){const n=e.children[a].textContent.trim().toLowerCase(),o=t.children[a].textContent.trim().toLowerCase(),r=m?c(n):n,i=m?c(o):o;if(y){const e=parseFloat(r),t=parseFloat(i);return(isNaN(e)?0:e)-(isNaN(t)?0:t)}return r.localeCompare(i)}),"desc"===f&&p.reverse(),p.forEach(function(e){t.appendChild(e)}),o&&t.insertBefore(o,t.firstChild)})})}(),s(),window.addEventListener("resize",s)}function s(){const i=document.querySelector(".treasury-portal-admin-table");i&&(window.innerWidth<=768?(i.querySelectorAll("th, td").forEach(function(e){e.style.width=""}),e&&n&&!r&&(n.appendChild(e),r=!0)):(e&&o&&r&&(o.insertBefore(e,o.firstChild),r=!1),t&&t.classList.remove("open")))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();