!function(){let e,t,n,r,o=!1;function c(){const o=document.getElementById("treasury-portal-admin-search-input"),c=document.querySelector(".treasury-portal-admin-table"),l={};c&&Array.from(c.querySelectorAll("th")).forEach(function(e,t){const n=e.dataset.sortKey;n&&(l[n]=t)}),r=c?c.querySelector("tbody"):null,e=r?r.querySelector(".tp-filter-row"):null,t=document.querySelector(".tp-filter-panel"),n=t?t.querySelector(".tp-filter-panel-content"):null;const s=document.querySelector(".tp-filter-toggle"),a={};let d="";const u=function(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}(function(){if(!c)return;c.querySelectorAll("tbody tr:not(.tp-filter-row)").forEach(function(e){let t=!0;d&&!e.textContent.toLowerCase().includes(d)&&(t=!1);for(const n in a){const r=e.children[l[n]],o=r?r.textContent.toLowerCase().trim():"",c=a[n];if(c.exact){if(o!==c.value){t=!1;break}}else if(!o.includes(c.value)){t=!1;break}}e.style.display=t?"":"none"})},200);o&&o.addEventListener("input",function(){d=o.value.toLowerCase(),u()}),document.querySelectorAll(".tp-filter-control").forEach(function(e){const t="SELECT"===e.tagName?"change":"input";e.addEventListener(t,function(){const t=e.dataset.filterKey,n=e.value.trim().toLowerCase();n?a[t]={value:n,exact:"exact"===e.dataset.match}:delete a[t],u()})}),s&&t&&s.addEventListener("click",function(){t.classList.toggle("open")}),u();const f=document.getElementById("ttp_airbase_token"),y=document.getElementById("ttp_airbase_token_toggle");f&&y&&y.addEventListener("click",function(){const e="password"===f.type;f.type=e?"text":"password",y.textContent=e?"Hide":"Reveal"}),function(){if(window.innerWidth<=768)return;const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelectorAll("th"),n=e.querySelectorAll("tbody tr");t.forEach(function(e,t){const r=e.querySelector(".tp-resizer");r&&r.addEventListener("mousedown",function(r){r.preventDefault();const o=r.pageX,c=e.offsetWidth;function i(r){const i=c+(r.pageX-o);e.style.width=i+"px",n.forEach(function(e){const n=e.children[t];n&&(n.style.width=i+"px")})}function l(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",l)}document.addEventListener("mousemove",i),document.addEventListener("mouseup",l)})})}(),function(){const e=document.querySelector(".treasury-portal-admin-table");if(!e)return;const t=e.querySelector("tbody"),n=e.querySelectorAll("th[data-sort-key]"),r=t.querySelector(".tp-filter-row"),o=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),c=new Set(["founded_year"]);let i={key:null,direction:null};n.forEach(function(e,l){e.addEventListener("click",function(s){if(s.target.closest(".tp-resizer"))return;const a=e.dataset.sortKey;let d="asc";if(i.key===a&&(d="asc"===i.direction?"desc":"desc"===i.direction?null:"asc"),i={key:d?a:null,direction:d},n.forEach(function(e){e.classList.remove("sorted-asc","sorted-desc")}),!d)return o.forEach(function(e){t.appendChild(e)}),void(r&&t.insertBefore(r,t.firstChild));e.classList.add("asc"===d?"sorted-asc":"sorted-desc");const u=Array.from(t.querySelectorAll("tr:not(.tp-filter-row)")),f=c.has(a);u.sort(function(e,t){const n=e.children[l].textContent.trim(),r=t.children[l].textContent.trim();if(f){const e=parseFloat(n),t=parseFloat(r);return(isNaN(e)?0:e)-(isNaN(t)?0:t)}return n.localeCompare(r)}),"desc"===d&&u.reverse(),u.forEach(function(e){t.appendChild(e)}),r&&t.insertBefore(r,t.firstChild)})})}(),i(),window.addEventListener("resize",i)}function i(){const c=document.querySelector(".treasury-portal-admin-table");c&&(window.innerWidth<=768?(c.querySelectorAll("th, td").forEach(function(e){e.style.width=""}),e&&n&&!o&&(n.appendChild(e),o=!0)):(e&&r&&o&&(r.insertBefore(e,r.firstChild),o=!1),t&&t.classList.remove("open")))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}();